{"version":3,"sources":["images/header-logo.svg","contexts/CurrentUserContext.js","components/Header/Header.js","images/promo-logo.svg","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/dev-photo-dmitriy.jpg","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Main/Main.js","utils/FormValidation.js","components/Login/Login.js","components/Register/Register.js","components/Profile/Profile.js","components/NotFound/NotFound.js","components/Footer/Footer.js","components/FilterCheckbox/FilterCheckbox.js","images/search-icon.svg","components/SearchForm/SearchForm.js","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","components/Preloader/Preloader.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","images/successauth.svg","images/errorauth.svg","components/InfoTooltip/InfoTooltip.js","utils/auth.js","utils/MainApi.js","utils/MoviesApi.js","components/ProtectedRoute.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","isActive","toggleClass","location","useLocation","useContext","currentUser","logged","pathname","underline","realLocation","className","to","src","logo","alt","Object","keys","length","onClick","email","Promo","evt","preventDefault","goto","target","hasAttribute","getAttribute","gotoBlockValue","document","querySelector","getBoundingClientRect","top","window","scrollTo","behavior","href","AboutProject","id","Techs","event","open","AboutMe","rel","avatar","Portfolio","Main","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","name","value","validationMessage","closest","checkValidity","withRouter","onLogin","inputData","validation","onSubmit","e","password","required","type","onChange","minLength","disabled","onRegister","title","pattern","Profile","onUpdateUser","onSignOut","useEffect","history","useHistory","goBack","Footer","currentYear","Date","getFullYear","FilterCheckbox","handleShorts","setActive","SearchForm","onSubmitSearch","searchParam","setsearchParam","searchlogo","placeholder","MoviesCard","card","isSaved","onCardLike","onCardDelete","pad2","num","s","toString","trailerLink","image","process","url","nameEN","nameRU","liked","h","Math","floor","duration","m","toHours","MoviesCardList","cards","showMore","showMoreHandler","map","_id","Preloader","getMovies","succesLoad","isLoading","setLoading","a","innerWidth","then","localStorage","getItem","SavedMovies","filterSaved","InfoTooltip","isOpen","result","onClose","opened","success","error","BASE_URL","checkResponse","res","ok","json","Promise","reject","status","moviesImgUrl","api","options","this","_baseUrl","baseUrl","fetch","credentials","data","method","headers","body","JSON","stringify","country","director","year","description","trailer","thumbnail","formats","movieId","_moviesUrl","moviesUrl","ProtectedRoute","Component","component","props","loggedIn","App","setCurrentUser","setLoggedIn","cardsInRow","setCardsInRow","cardsCnt","setCardsCnt","setCards","shorts","setShorts","savedCards","setSavedCards","setSucces","setShowMore","isInfoTooltipOpen","setInfoTooltipOpen","infoTooltipResult","setinfoTooltipResult","loadfromStorage","cardsCountValue","cardsCount","resFilter","parse","filter","resCut","item","index","array","showMoreVisible","screenW","cnt","all","likeCheck","x","some","elem","active","cardData","MainApi","deleteMovie","state","c","catch","err","console","log","handleLogin","auth","push","me","resSavedFilter","owner","setItem","resizeTimeout","addEventListener","setTimeout","Provider","showHeader","path","Movies","resolve","MoviesApi","includes","cardsCntMore","disLike","createMovie","userData","updateProfile","response","redirected","replace","removeItem","exact","showFooter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3083633a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.4b8be9fa.svg\";","import React from 'react';\n\n\nexport const CurrentUserContext = React.createContext();\n","import './Header.css';\nimport {React, useContext} from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport logo from '../../images/header-logo.svg';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Header({isActive, toggleClass}){\n    const location = useLocation();\n    const [currentUser, setCurrentUser] = useContext(CurrentUserContext);\n    const logged = location.pathname !== `/` ? \"header_dark\" : \"\";\n    const underline = (realLocation) => {\n        return location.pathname ===  realLocation ? \"header__link_underline\" : \"\";\n     }\n\n    return (\n        <header className={`header ${logged}`}>\n            <Link to=\"/\" className=\"link header__link\">\n                <img src = {logo} alt=\"Логотип Россия\" className=\"header__logo\"/>\n            </Link>\n            <div className=\"header__nav\">\n                {\n                Object.keys(currentUser).length !== 0\n                ?\n                <div className= \"header__buttons-zone\">\n                    <div className={isActive ? 'header__menu-icon header__menu-icon_active': 'header__menu-icon'} onClick={toggleClass}>\n                        <span></span>\n                    </div>\n                    <div className={isActive ? 'header__menu header__menu_active': 'header__menu'}>\n                        <div className= \"header__movies-zone\">\n                            <Link to=\"/\" onClick={toggleClass} className={`link header__link header__link-movies header__link_main ${underline(`/`)}`}>Главная</Link> \n                            <Link to=\"movies\" onClick={toggleClass} className={`link header__link header__link-movies ${underline(`/movies`)}`}>Фильмы</Link> \n                            <Link to=\"saved-movies\" onClick={toggleClass} className={`link header__link  header__link-movies header__link_type_saved ${underline(`/saved-movies`)}`}>Сохраненные фильмы</Link>\n                        </div>\n                        <div className= \"header__exit-zone\">\n                            <p className= \"header__email\">{currentUser.email}</p>\n                            <Link to=\"profile\" onClick={toggleClass} className=\"header__profile\"></Link> \n                        </div>\n                    </div>\n                </div>\n                :\n                <div className= \"header__enter-zone\">\n                    <Link to=\"signup\" className=\"link header__link header__link_type_signup\">Регистрация</Link> \n                    <Link to=\"signin\" className=\"link header__link header__link_type_signin\">Войти</Link>\n                </div>              \n                }\n            </div>\n        </header>\n    );\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/promo-logo.872d9c2d.svg\";","import './Promo.css';\nimport logo from '../../images/promo-logo.svg';\n\nfunction Promo(){\n\n    const onItemClick = (evt) => {\n        evt.preventDefault(); \n        const goto = evt.target.hasAttribute(\"href\") ? evt.target.getAttribute(\"href\") : \"body\";\n        const gotoBlock = document.querySelector(goto);\n        const gotoBlockValue =\n            gotoBlock.getBoundingClientRect().top;\n        window.scrollTo({\n            top: gotoBlockValue,\n            behavior: \"smooth\",\n        });\n    }\n\n    return (\n    <>\n        <section className = \"promo\">\n            <div className=\"promo__zone\">\n                <h1 className=\"promo__title\">Учебный проект студента факультета Веб&nbsp;-&nbsp;разработки.</h1>\n                <p className=\"promo__subtitle\">Листайте ниже, чтобы узнать больше про этот проект и его создателя.</p>\n                <button onClick={onItemClick} href=\"#aboutProject\" className=\"promo__learn-more\">Узнать больше</button>\n            </div>\n            <img src = {logo} alt=\"Логотип проекта\" className=\"promo__logo\"/>\n        </section>\n    </>\n    );\n}\n\nexport default Promo;","import './AboutProject.css';\n\nfunction AboutProject(){\n    return (\n    <>\n        <section id = \"aboutProject\" className = \"section\">\n            <h2 className=\"section__title\">О проекте</h2>\n            <hr className=\"section__line\"></hr>\n            <div className=\"about__zone\">\n                <div className=\"about__description-zone\">\n                    <h3 className=\"about__subtitle\">Дипломный проект включал 5 этапов</h3>\n                    <p className=\"about__description\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n                </div>\n                <div className=\"about__description-zone\">\n                    <h3 className=\"about__subtitle\">На выполнение диплома ушло 5 недель</h3>\n                    <p className=\"about__description\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n                </div>\n            </div>\n            <div className=\"about__zone\">\n                <div className=\"about__week about__week_back\">1 неделя<p className=\"about__caption\">Back-end</p></div>\n                \n                <div className=\"about__week about__week_front\">4 недели<p className=\"about__caption\">Front-end</p></div>\n                \n            </div>\n        </section>\n    </>\n    );\n}\n\nexport default AboutProject;","import './Techs.css';\n\nfunction Techs(){\n    return (\n    <>\n        <section className = \"section techs\">\n            <h2 className=\"section__title\">Технологии</h2>\n            <hr className=\"section__line section__line-techs\"></hr>\n            <h3 className=\"techs__subtitle\">7 технологий</h3>\n            <p className=\"techs__description\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n            <ul className=\"techs__zone\">\n                <li className=\"list-item\"><button className=\"techs__link\" onClick={event =>  window.open('https://html.spec.whatwg.org/', '_blank' )}>HTML</button></li>\n                <li className=\"list-item\"><button className=\"techs__link\" onClick={event =>  window.open('https://w3.org/Style/CSS', '_blank' )}>CSS</button></li>\n                <li className=\"list-item\"><button className=\"techs__link\" onClick={event =>  window.open('https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide', '_blank' )}>JS</button></li>\n                <li className=\"list-item\"><button className=\"techs__link\" onClick={event =>  window.open('https://reactjs.org/', '_blank' )}>React</button></li>\n                <li className=\"list-item\"><button className=\"techs__link\" onClick={event =>  window.open('https://git-scm.com/', '_blank' )}>Git</button></li>\n                <li className=\"list-item\"><button className=\"techs__link\" onClick={event =>  window.open('https://expressjs.com/', '_blank' )}>Express.js</button></li>\n                <li className=\"list-item\"><button className=\"techs__link\" onClick={event =>  window.open('https://www.mongodb.com/', '_blank' )}>mongoDB</button></li>\n            </ul>\n        </section>\n    </>\n    );\n}\n\nexport default Techs;","export default __webpack_public_path__ + \"static/media/dev-photo-dmitriy.74dff6ea.jpg\";","import './AboutMe.css';\nimport avatar from '../../images/dev-photo-dmitriy.jpg';\n\nfunction AboutMe(){\n    return (\n    <>\n        <section className = \"section\">\n            <h2 className=\"section__title\">Студент</h2>\n            <hr className=\"section__line\"></hr>\n            <div className=\"aboutme__zone\">\n                <div className=\"aboutme__description-zone\">\n                    <h3 className=\"aboutme__subtitle\">Дмитрий</h3>\n                    <p className=\"aboutme__profession\">Фронтенд-разработчик, 30 лет</p>\n                    <p className=\"aboutme__description\">Я живу в Москве, есть жена и двое детей. Кодить начал 4 года назад, в основном десктоп-приложения на C#. Курс по веб-разработке помог получить актуальные знания.</p>\n                    <ul className=\"aboutme__links-zone\">\n                        <li className=\"list-item\">\n                            <a\n                            href=\"https://t.me/dm_parf\"\n                            className=\"link aboutme__link\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            >Telegram\n                            </a>\n                        </li>\n                        <li className=\"list-item aboutme__list-item\">\n                            <a\n                            href=\"https://github.com/dm-parf\"\n                            className=\"link aboutme__link\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            >Github\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <img src = {avatar} alt=\"Аватар\" className=\"aboutme__logo\"/>\n            </div>\n        </section>\n    </>\n    );\n}\n\nexport default AboutMe;","import './Portfolio.css';\n\nfunction Portfolio(){\n    return (\n    <>\n        <section className = \"section portfolio\">\n            <h2 className=\"portfolio__subtitle\">Портфолио</h2>\n            <ul className=\"portfolio__links-zone\">\n                <li className=\"list-item portfolio__item\">\n                    <div className=\"portfolio__item-container\">\n                        <a\n                        href=\"https://dm-parf.github.io/how-to-learn/index.html\"\n                        className=\"link portfolio__link\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        >Статичный сайт\n                        </a>\n                        <a\n                        href=\"https://dm-parf.github.io/how-to-learn/index.html\"\n                        className=\"link portfolio__link portfolio__link_arrow\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        >↗\n                        </a>\n                    </div>\n                    <hr className=\"section__line\"></hr>\n                </li>\n                <li className=\"list-item  portfolio__item\">\n                    <div className=\"portfolio__item-container\">\n                        <a\n                        href=\"https://dm-parf.github.io/russian-travel/index.html\"\n                        className=\"link portfolio__link\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        >Адаптивный сайт\n                        </a>\n                        <a\n                        href=\"https://dm-parf.github.io/russian-travel/index.html\"\n                        className=\"link portfolio__link portfolio__link_arrow\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        >↗\n                        </a>\n                    </div>\n                    <hr className=\"section__line\"></hr> \n                </li>\n                <li className=\"list-item  portfolio__item\">\n                    <div className=\"portfolio__item-container\">\n                        <a\n                        href=\"https://grechka.students.nomoredomains.monster\"\n                        className=\"link portfolio__link\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        >Одностраничное приложение\n                        </a>\n                        <a\n                        href=\"https://grechka.students.nomoredomains.monster\"\n                        className=\"link portfolio__link portfolio__link_arrow\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        >↗\n                        </a>\n                    </div>  \n                </li>\n            </ul>\n        </section>\n    </>\n    );\n}\n\nexport default Portfolio;","import './Main.css';\n\nimport Promo from '../Promo/Promo';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Portfolio from '../Portfolio/Portfolio';\n\nfunction Main(){\n    return (\n        <>\n        <main className=\"content\">\n            <Promo />\n            <AboutProject />\n            <Techs />\n            <AboutMe />\n            <Portfolio />\n        </main>\n    </>\n    );\n}\n\nexport default Main;","import React, { useCallback } from 'react';\n\n\nexport function useFormWithValidation() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (event) => {\n    \n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({...values, [name]: value});\n    setErrors({...errors, [name]: target.validationMessage });\n    setIsValid(target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return { values, setValues, handleChange, errors, isValid, resetForm };\n}","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport logo from '../../images/header-logo.svg';\nimport * as validation from '../../utils/FormValidation';\n\nfunction Login({onLogin}){\n\n  const inputData = validation.useFormWithValidation('')\n\n  function handleSubmit(e) {\n      e.preventDefault();\n      onLogin(\n        inputData.values.password,\n        inputData.values.email\n      );\n    }\n\n    return(\n      <div className=\"auth\">\n      <Link to=\"/\" className=\"auth__link\">\n        <img src = {logo} alt=\"Логотип Россия\" className=\"auth__logo\"/>\n      </Link>\n      <p className=\"auth__header\">Рады видеть!</p>\n      <form onSubmit={handleSubmit} className=\"auth__form\">\n      <label className=\"auth__field\"> \n        <p className=\"auth__input-header\">E-mail</p>\n        <input required className=\"auth__input\" id=\"email\" name=\"email\" type=\"email\" onChange={e => inputData.handleChange(e)} />\n        {(!inputData.isValid) && <span className=\"auth__input-error\">{inputData.errors.email}</span>}\n      </label>\n      <label className=\"auth__field\"> \n        <p className=\"auth__input-header\">Пароль</p>\n        <input  required minLength=\"3\" className=\"auth__input\" id=\"password\" name=\"password\" type=\"password\" onChange={e => inputData.handleChange(e)} />\n        {(!inputData.isValid) && <span className=\"auth__input-error\">{inputData.errors.password}</span>}\n      </label>\n         <button disabled={!inputData.isValid } type=\"submit\" className=\"auth__submit\">Войти</button>\n      </form>\n      <div className=\"auth__signin\">\n        <p className=\"auth__login-caption\">Ещё не зарегистрированы?</p>\n        <Link to=\"signup\" className=\"auth__login-link\">Регистрация</Link>\n      </div>\n    </div>\n);\n}\n\nexport default withRouter(Login);\n\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport logo from '../../images/header-logo.svg';\nimport * as validation from '../../utils/FormValidation';\n\nfunction Register({onRegister}){\n\n  const inputData = validation.useFormWithValidation('')\n\n  function handleSubmit(e) {\n      e.preventDefault();\n      onRegister(\n        inputData.values.name,\n        inputData.values.password,\n        inputData.values.email\n      );\n    }\n\n    return(\n      <div className=\"auth\">\n      <Link to=\"/\" className=\"auth__link\">\n        <img src = {logo} alt=\"Логотип Россия\" className=\"auth__logo\"/>\n      </Link>\n      <p className=\"auth__header\">Добро пожаловать!</p>\n      <form onSubmit={handleSubmit} className=\"auth__form\">\n        <label className=\"auth__field\"> \n          <p className=\"auth__input-header\">Имя</p>\n          <input \n            title=\"Поле может содержать только латиницу, кириллицу, пробел или дефис\"\n            pattern='^[\\-a-zA-ZА-Яа-яЁё\\s]+$'\n            required\n            className=\"auth__input\"\n            name=\"name\"\n            onChange={e => inputData.handleChange(e)}\n          />\n          {(!inputData.isValid) && <span className=\"auth__input-error\">{inputData.errors.name}</span>}\n        </label>\n        <label className=\"auth__field\"> \n          <p className=\"auth__input-header\">E-mail</p>\n          <input required className=\"auth__input\" id=\"email\" name=\"email\" type=\"email\"  value={inputData.value} onChange={e => inputData.handleChange(e)} />\n          {(!inputData.isValid) && <span className=\"auth__input-error\">{inputData.errors.email}</span>}\n        </label>\n        <label className=\"auth__field\"> \n          <p className=\"auth__input-header\">Пароль</p>\n          <input required minLength=\"3\" className=\"auth__input\" id=\"password\" name=\"password\" type=\"password\" onChange={e => inputData.handleChange(e)} />\n          {(!inputData.isValid) && <span className=\"auth__input-error\">{inputData.errors.password}</span>}\n        </label>\n        <button disabled={!inputData.isValid } type=\"submit\" className=\"auth__submit\">Зарегистрироваться</button>\n      </form>\n      <div className=\"auth__signin\">\n        <p className=\"auth__login-caption\">Уже зарегистрированы?</p>\n        <Link to=\"signin\" className=\"auth__login-link\">Войти</Link>\n      </div>\n    </div>\n);\n}\n\nexport default withRouter(Register);","import './Profile.css';\nimport {React, useEffect, useContext} from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport * as validation from '../../utils/FormValidation';\n\n\nfunction Profile({onUpdateUser, onSignOut}){\n\n  const [currentUser, setCurrentUser] = useContext(CurrentUserContext);\n  const inputData = validation.useFormWithValidation('')\n  const n = 'name'\n  const em = 'email'\n\n\n  useEffect(() => {\n      inputData.resetForm();\n      inputData.setValues({[n]: currentUser.name, [em]: currentUser.email});\n    }, [currentUser]);\n\n\n\n  function locHandleSubmit(e) {\n      e.preventDefault();\n     \n      onUpdateUser({\n        name: inputData.values.name,\n        email: inputData.values.email,\n      });\n    }\n\n\n    return (\n        <>\n        <div className=\"auth\">\n          <p className=\"profile__header\">Привет, {currentUser.name}</p>\n          <form onSubmit={locHandleSubmit} className=\"auth__form\">\n            <label className=\"auth__field profile__field\"> \n              <div className=\"profile__input-zone\">\n                <p className=\"profile__input-header\">Имя</p>\n                <input \n                  title=\"Поле может содержать только латиницу, кириллицу, пробел или дефис\" \n                  required\n                  pattern='^[\\-a-zA-ZА-Яа-яЁё\\s]+$'\n                  className=\"profile__input\"\n                  name=\"name\"\n                  value={inputData.values.name || ''}\n                  onChange={e => inputData.handleChange(e)} \n                />\n              </div>\n              {(!inputData.isValid) && <span className=\"auth__input-error profile__error\">{inputData.errors.name}</span>}\n            </label>\n            <hr className=\"profile__line\"></hr>\n            <label className=\"auth__field\">\n              <div className=\"profile__input-zone\">\n                <p className=\"profile__input-header\">E-mail</p>\n                <input\n                  required\n                  className=\"profile__input\"\n                  name=\"email\"\n                  type=\"email\"\n                  value={inputData.values.email || ''}\n                  onChange={e => inputData.handleChange(e)}\n                />\n              </div>\n              {(!inputData.isValid) && <span className=\"auth__input-error  profile__error\">{inputData.errors.email}</span>}\n            </label>\n            <button disabled={!inputData.isValid || (inputData.values.name === currentUser.name && inputData.values.email === currentUser.email)} type=\"submit\" className=\"auth__submit profile__submit\">Редактировать</button>\n            <button onClick={onSignOut} className=\"profile__exit\">Выйти из аккаунта</button>\n          </form>\n        </div>\n    </>\n    );\n}\n\nexport default Profile;","import React from 'react';\nimport { withRouter, useHistory} from 'react-router-dom';\nimport './NotFound.css';\n\n\nfunction NotFound () {\n    const history = useHistory();\n\n    return (\n        <div className=\"auth notfound\">\n          <p className=\"auth__header notfound__header\">404</p>\n          <p className=\"auth__login-caption notfound__caption\">Страница не найдена</p>\n          <button onClick={history.goBack} className=\"auth__login-link notfound__link\">Назад</button>\n        </div>\n  );\n  \n\n}\n\nexport default withRouter(NotFound);","import './Footer.css';\n\nfunction Footer(){\n    const currentYear = new Date().getFullYear();\n    return (\n    <>\n        <section className = \"section footer\">\n            <h2 className=\"footer__subtitle\">Учебный проект Яндекс.Практикум х BeatFilm.</h2>\n            <hr className=\"section__line\"></hr>\n            <div className=\"footer__item-container\">\n                <p className=\"footer__year\">&copy; {currentYear}</p>\n                <ul className=\"footer__links-zone\">\n                    <li className=\"list-item footer__item\">\n                            <a\n                            href=\"https://practicum.yandex.ru/\"\n                            className=\"link footer__link\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            >Яндекс.Практикум\n                            </a>\n                    </li>\n                    <li className=\"list-item footer__item\">\n                            <a\n                            href=\"https://github.com/yandex-praktikum\"\n                            className=\"link footer__link\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            >Github\n                            </a>\n                    </li>\n                    <li className=\"list-item footer__item\">\n                            <a\n                            href=\"https://www.facebook.com/pg/yandex.praktikum/posts/\"\n                            className=\"link footer__link\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            >Facebook\n                            </a>\n                    </li>\n                </ul>\n            </div>\n        </section>\n    </>\n    );\n}\n\nexport default Footer;","import './FilterCheckbox.css';\nimport React, { useState } from 'react';\n\nfunction FilterCheckbox({handleShorts}){\n\n  const [isActive, setActive] = useState(false);\n\n  const toggleClass = () => {\n    setActive(!isActive);\n    handleShorts(!isActive);\n  };\n\n    return (\n        <>\n        <div className={isActive ? 'filter-btn switch-on': 'filter-btn'} onClick={toggleClass}></div>\n    </>\n    );\n}\n\nexport default FilterCheckbox;","export default __webpack_public_path__ + \"static/media/search-icon.ec2dbd5f.svg\";","import './SearchForm.css';\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox'\nimport searchlogo from '../../images/search-icon.svg';\nimport React, { useState } from 'react';\n\nfunction SearchForm({onSubmitSearch, handleShorts}){\n\n    const [searchParam, setsearchParam] = useState('');\n\n    function handleParamChange(e) {\n        setsearchParam(e.target.value);\n      }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onSubmitSearch(searchParam);\n      }\n\n    return (\n        <>\n        <form className=\"search__zone\" onSubmit = {handleSubmit}>\n            <div className=\"search__all\">\n                <img className=\"search__image\" src={searchlogo} alt='search'/>\n                <input className=\"search__input\" required={true} value={searchParam} onChange={handleParamChange} placeholder=\"Фильм\"></input>\n                <button  type=\"submit\" className=\"search__button\"></button> \n            </div>\n            <div className=\"search__shorts\">\n                <hr className=\"search__verticla-line\"></hr>\n                <FilterCheckbox handleShorts={handleShorts}></FilterCheckbox>\n                <p className=\"search__label\">Короткометражки</p>\n            </div>\n        </form>\n        <hr className=\"search__line\"></hr>\n    </>\n    );\n}\n\nexport default SearchForm;","import './MoviesCard.css';\nimport React from 'react';\nconst moviesImgUrl = process.env.REACT_APP_MOVIES_IMG_URL;\n\nfunction MoviesCard({card, isSaved,  onCardLike, onCardDelete}) {\n\n    function handleLikeClick() {\n        onCardLike(card);\n       }\n    function handleDeleteClick() {\n        onCardDelete(card);\n       }\n\n    function pad2(num) {\n        var s = num.toString();\n        return (s.length < 2) ? \"0\" + s : s;\n    }\n    \n    function toHours()\n    {\n        const h = Math.floor(card.duration / 60);\n        let m = card.duration  % 60;\n        return  pad2(h) + \"ч\" + pad2(m) + \"м\";\n    }\n\n    return (\n        <li className=\"movies__block\">\n            <img onClick = {event =>  window.open(card.trailerLink, '_blank' )} className=\"movies__image\" src={isSaved ? card.image :  moviesImgUrl + card.image.url} alt={card.nameEN}/>\n            <div className=\"movies__label\">\n                <div className=\"movies__info-group\">\n                    <h2 className=\"movies__name\">{card.nameRU}</h2>\n                    {!isSaved \n                        ? \n                        <button onClick = {handleLikeClick} className={card.liked ? \"movies__button movies__button_type_active\" : \"movies__button\"} type=\"button\"></button> \n                        :\n                        <div onClick = {handleDeleteClick} className=\"movies__button_type_delete\" type=\"button\"></div> \n                    }  \n                </div>\n                <p className=\"movies__duration\">{toHours(card.duration)}</p>\n            </div>\n        </li>\n    );\n  }\n  \n  export default MoviesCard;","import './MoviesCardList.css';\nimport React from 'react';\nimport MoviesCard from '../MoviesCard/MoviesCard';\n// import { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction MoviesCardList({cards, isSaved, showMore, showMoreHandler, onCardLike, onCardDelete}\n\n    ) {\n            return (\n                <>\n                    <main className=\"content\">\n                        <section className=\"movies\">\n                            { Object.keys(cards).length > 0 ?\n                                <ul className=\"moviescard__list\">\n                                    {cards.map((card) => (\n                                        <MoviesCard\n                                            key= {isSaved ? card._id : card.id }\n                                            card={card}\n                                            isSaved = {isSaved}\n                                            onCardLike={onCardLike}\n                                            onCardDelete={onCardDelete}\n                                        />)\n                                    )}\n                                </ul>\n                                : \n                                <p className=\"moviescard__empty\">{isSaved ? 'Нет сохраненных фильмов' : 'Ничего не найдено'}</p>\n                            }\n                            {showMore ? <button onClick={showMoreHandler} className=\"movies__more\">Ещё</button> : null}\n                        </section>\n                    </main>\n                </>\n            );\n        }\n\nexport default MoviesCardList;","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n    return (\n        <div className=\"preloader\">\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","import './Movies.css';\nimport {React, useState} from 'react';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Preloader from '../Preloader/Preloader';\n\n\nfunction Main({\n    cards,\n    getMovies,\n    succesLoad, \n    showMore, \n    showMoreHandler, \n    handleShorts, \n    onCardLike\n    }){\n\n    const [isLoading, setLoading] = useState(false);\n\n\n    async function onSubmitSearch(searchParam){\n      setLoading(true);\n      getMovies(searchParam,window.innerWidth)\n      .then(() => {\n        setLoading(false);\n      });\n    }\n\n    return (\n        <>\n        <main className=\"movies-section\">\n            <SearchForm onSubmitSearch={onSubmitSearch} handleShorts ={handleShorts}/>\n            {localStorage.getItem('cards') !== null ? \n              isLoading ?\n                <Preloader />  \n                :   succesLoad ? <MoviesCardList cards= {cards} showMore={showMore} isSaved={false} showMoreHandler={showMoreHandler} onCardLike={onCardLike}/> \n                    : <p className=\"movies__err\">Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз</p>\n              : null}\n        </main>\n    </>\n    );\n\n}\n\nexport default Main;","import './SavedMovies.css';\nimport {React} from 'react';\n\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\n\n\nfunction SavedMovies({cards, filterSaved, handleShorts, onCardDelete}){\n\n\n\n    return (\n        <>\n        <main className=\"movies-section\">\n        <SearchForm onSubmitSearch={filterSaved} handleShorts ={handleShorts}/>\n            <MoviesCardList cards= {cards} isSaved={true} onCardDelete={onCardDelete}/>\n        </main>\n    </>\n    );\n}\n\nexport default SavedMovies;","export default __webpack_public_path__ + \"static/media/successauth.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/errorauth.df8eddf6.svg\";","import React from 'react';\nimport success from '../../images/successauth.svg';\nimport error from '../../images/errorauth.svg';\nimport './InfoTooltip.css';\n\nfunction InfoTooltip({isOpen,result, onClose}) {\n    const opened = isOpen ? \"popup_opened\" : \"\";\n    let title;\n    switch (result) {\n        case 'success':\n          title = 'Вы успешно зарегистрировались!';\n          break;\n        case 'updated':\n          title = 'Данные пользователя обновлены.';\n          break;\n        default:\n            title = 'Что-то пошло не так! ' + result \n      }\n\n    return (\n        <section className={`popup ${opened}`}>\n            <form className=\"popup__container\" name=\"popup-tooltip\">\n                <button className=\"popup__close\" onClick = {onClose} type=\"button\"></button>\n                <img className=\"popup__image\" src={result === 'success' || result === 'updated' ? success : error} alt=\"info\"/>\n                <h2 className=\"popup__header\">{title}</h2>\n            </form>\n        </section>\n    );\n  }\n  \n  export default InfoTooltip;","export const BASE_URL = process.env.REACT_APP_BASE_URL;\n\nfunction checkResponse(res) {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nexport const register = (name, password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({name, email, password})\n  })\n  .then(res => checkResponse(res))\n};\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({password, email})\n  })\n  .then(res => checkResponse(res))\n};\n\n\nexport const checkToken = () => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    credentials: 'include',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    }\n  })\n  .then(res => checkResponse(res))\n}\n\nexport const logout = () => {\n  return fetch(`${BASE_URL}/logout`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n  })\n  .then(res => checkResponse(res))\n};","const moviesImgUrl = process.env.REACT_APP_MOVIES_IMG_URL;\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n  }\n\n  checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getMovies() {\n    return fetch(`${this._baseUrl}/movies`, {\n      credentials: 'include',\n    })\n      .then(res => this.checkResponse(res))\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      credentials: 'include'\n    })\n      .then(res => this.checkResponse(res))\n  }\n\n  updateProfile(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        email: data.email\n      })\n    })\n      .then(res => this.checkResponse(res))\n  }\n\n  createMovie(data) {\n    return fetch(`${this._baseUrl}/movies`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \n          country: data.country,\n          director: data.director,\n          duration: data.duration,\n          year: data.year,\n          description: data.description,\n          image: moviesImgUrl + data.image.url,\n          trailer: data.trailerLink,\n          thumbnail: moviesImgUrl + data.image.formats.thumbnail.url,\n          movieId: data.id,\n          nameRU: data.nameRU,\n          nameEN: data.nameEN\n\n      })\n    })\n      .then(res => this.checkResponse(res))\n  }\n\n  deleteMovie(id) {\n    return fetch(`${this._baseUrl}/movies/${id}`, {\n      method: 'DELETE',\n      credentials: 'include',\n    })\n      .then(res => this.checkResponse(res))\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: process.env.REACT_APP_BASE_URL,\n});\n\nexport default api;\n","class MoviesApi {\n    constructor(options) {\n      this._moviesUrl = options.moviesUrl;\n    }\n  \n    checkResponse(res) {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  \n    getMovies() {\n      return fetch(`${this._moviesUrl}`, {\n\n      })\n        .then(res => this.checkResponse(res))\n    }\n\n}\n\nconst api = new MoviesApi({\n  moviesUrl: process.env.REACT_APP_MOVIES_URL,\n});\n\nexport default api;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import './App.css';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport Profile from '../Profile/Profile';\nimport NotFound from '../NotFound/NotFound';\nimport Footer from '../Footer/Footer';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\nimport * as auth from '../../utils/auth';\nimport MainApi from '../../utils/MainApi';\nimport MoviesApi from '../../utils/MoviesApi';\n\n\n\nimport React, { useState, useEffect } from 'react';\nimport {Route, Switch, useHistory, useLocation } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport ProtectedRoute from \"../ProtectedRoute\";\n\n\nfunction App() {\n\n  const history = useHistory();\n  const location = useLocation();\n  const [currentUser, setCurrentUser] = useState({});\n  const [loggedIn, setLoggedIn] = useState(true);\n  const [cardsInRow, setCardsInRow] = useState(4);\n  const [cardsCnt, setCardsCnt] = useState(4);\n  const [cards, setCards] = useState([]);\n  const [shorts, setShorts] = useState(false);\n  const [savedCards, setSavedCards] = useState([]);\n  const [succesLoad, setSucces] = useState(true);\n  const [isActive, setActive] = useState(false);\n  const [showMore, setShowMore] = useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false); \n  const [infoTooltipResult, setinfoTooltipResult] = useState('');\n\n  useEffect(() => {\n    const tokenCheck = () => {\n      auth.checkToken().then((res) => { \n        setCurrentUser(res) \n        setLoggedIn(true);\n        getSavedMovies(res);\n        loadfromStorage();\n        \n      })\n      .catch((err) => {\n        setLoggedIn(false);\n        console.log(err)\n      });\n    }\n    tokenCheck();\n}, [history]);\n\n\n  useEffect(() => {\n    \n          (function() {\n            window.addEventListener(\"resize\", resizeThrottler, false);\n            var resizeTimeout;\n            function resizeThrottler() {\n              if ( !resizeTimeout ) {\n                resizeTimeout = setTimeout(function() {\n                  resizeTimeout = null;\n                  actualResizeHandler();\n                 }, 66);\n              }\n            }\n          \n            function actualResizeHandler() {\n              loadfromStorage();\n            }\n          }());\n  }, [])\n\n  useEffect(() => {\n    loadfromStorage();\n  }, [shorts])\n\n  function loadfromStorage(){\n    if(localStorage.getItem('cards') !== null)\n    {\n      let cardsCountValue = cardsCount(window.innerWidth);\n      setCardsCnt(cardsCountValue);\n      let resFilter = JSON.parse(localStorage.getItem(\"cards\"));\n      if(shorts) {\n        resFilter = resFilter.filter(function(card) {\n          return card.duration < 40\n        });\n      }      \n      const resCut = resFilter.filter(function(item, index, array){return (index < cardsCountValue);})\n      setCards(resCut);\n      showMoreVisible(Object.keys(resFilter).length, cardsCountValue);\n    }\n  }\n\n  useEffect(() => {\n    setCards(likeCheck(cards))\n  }, [savedCards])\n  \n  function cardsCount (screenW){\n    let cnt = 4;\n    if (screenW < 649) {\n      cnt = 5;\n      setCardsInRow(1);\n    }\n    else if (screenW >= 649 && screenW < 1024) {\n      cnt = 8;\n      setCardsInRow(2);\n    }\n    else if (screenW >= 1024 && screenW < 1280) {\n      cnt = 12;\n      setCardsInRow(3);\n    }\n    else if (screenW >= 1280) {\n      cnt = 4;\n      setCardsInRow(4);\n    }\n    return cnt;\n  }\n\n  function showMoreVisible(all, cardsCnt){\n    all > cardsCnt ? setShowMore(true) : setShowMore(false)\n  }\n\n\n  function likeCheck(resFilter){\n\n    return resFilter.map(x => {\n      \n      savedCards.some(elem => elem.movieId === x.id) ?\n        x.liked = true\n      :\n        x.liked = false;\n      return x;\n    });\n\n    \n  }\n\n  function getMovies(searchParam, screenW) {\n    return new Promise((resolve, reject) => {\n     \n      MoviesApi.getMovies().then((res) => {\n        let resFilter = res.filter(function(card) {\n          return card.nameRU.includes(searchParam)\n        });\n        if(shorts) {\n          resFilter = resFilter.filter(function(card) {\n            return card.duration < 40\n          });\n        }\n        resFilter = likeCheck(resFilter);\n        localStorage.setItem(\"cards\", JSON.stringify(resFilter));\n        let cardsCountValue = cardsCount(screenW);\n        setCardsCnt(cardsCountValue);\n        const resCut = resFilter.filter(function(item, index, array){return (index < cardsCountValue);})\n        setCards(resCut);\n        showMoreVisible(Object.keys(resFilter).length, cardsCountValue);\n        resolve('ok');\n      })\n      .catch((err) => {\n        setSucces(false);\n        console.log(err)\n        setinfoTooltipResult(err);\n        setInfoTooltipOpen(true);\n      });\n    })\n  }\n\n  function showMoreHandler(){\n    const resFilter = JSON.parse(localStorage.getItem(\"cards\"));\n    let cardsCntMore = cardsCnt + cardsInRow;\n    setCardsCnt(cardsCntMore);\n    const resCut = resFilter.filter(function(item, index, array){return (index < cardsCntMore);})\n    setCards(resCut);\n    showMoreVisible(Object.keys(resFilter).length, cardsCntMore);\n  }\n\n  function handleShorts(active){\n    setShorts(active);\n  }\n\n  function getSavedMovies(me){\n    MainApi.getMovies().then((res) => {\n      let resSavedFilter = res.filter(function(card) {\n        return card.owner === me._id\n      });\n      setSavedCards(resSavedFilter);\n      localStorage.setItem(\"savedCards\", JSON.stringify(resSavedFilter));\n    })\n    .catch((err) => {\n      setSucces(false);\n      console.log(err)\n      setinfoTooltipResult(err);\n      setInfoTooltipOpen(true);\n    });\n  }\n\n  function onCardLike(cardData){\n      savedCards.some(elem => elem.movieId === cardData.id) \n      ?\n        disLike(cardData)\n      :\n        MainApi.createMovie(cardData).then((result) => {\n          setSavedCards([result, ...savedCards]);\n          cardData.liked = true;\n          setCards((state) => state.map((c) => c.id === cardData.id ? cardData : c));\n        })\n        .catch((err) => {\n          console.log(err);\n          setinfoTooltipResult(err);\n          setInfoTooltipOpen(true);\n        });  \n  }\n\n  function disLike(cardData){\n    cardData.liked = false;\n    setCards((state) => state.map((c) => c.id === cardData.id ? cardData : c));\n    onCardDelete(savedCards.filter(function(card) {\n      return card.movieId === cardData.id\n    })[0])\n  }\n\n  function onCardDelete(cardData){\n    MainApi.deleteMovie(cardData._id).then((result) => {\n      setSavedCards((state) => state.filter((c) => c._id !== cardData._id));\n    })\n    .catch((err) => {\n      console.log(err);\n      setinfoTooltipResult(err);\n      setInfoTooltipOpen(true);\n    });\n  }\n\n  function filterSaved(searchParam){\n    let resFilter = savedCards.filter(function(card) {\n      return card.nameRU.includes(searchParam)\n    });\n    if(shorts) {\n      resFilter = resFilter.filter(function(card) {\n        return card.duration < 40\n      });\n    }\n    setSavedCards(resFilter);\n  }\n\n  function handleRegister(name, password, email){\n    auth.register(name, password, email).then((res) => {\n        setinfoTooltipResult('success');\n        setInfoTooltipOpen(true);\n        handleLogin(password, email);\n    })\n    .catch((err) => {\n      console.log(err);\n      setinfoTooltipResult('error');\n      setInfoTooltipOpen(true);\n    });\n  }\n\n  function handleLogin(password, email){\n    auth.authorize(password, email)\n    .then((data) => {\n        setCurrentUser(data);\n        setLoggedIn(true);\n        history.push(\"/movies\");\n    })\n    .catch(err => console.log(err)); \n  }\n\n  function handleUpdateUser(userData) {\n    console.log(userData)\n    MainApi.updateProfile(userData).then((result) => {\n      setCurrentUser(result);\n      setinfoTooltipResult('updated');\n      setInfoTooltipOpen(true);\n    })\n    .catch((err) => {\n      console.log(err);\n      setinfoTooltipResult('error');\n      setInfoTooltipOpen(true);\n    });\n  }\n\n  function handleSignOut(){\n    auth.logout()\n    .then(function(response) {\n      if (response.redirected) {\n        return window.location.replace(response.url);\n      }\n    }).catch(function(err) {\n      console.log(err);\n    });\n    setCurrentUser({});\n    setLoggedIn(false);\n    localStorage.removeItem('cards');\n    localStorage.removeItem('savedCards');\n    history.push('/');\n  }\n\n  function closeInfoTooltip() {\n    setInfoTooltipOpen(false);\n  }\n\n  function showHeader(location)\n  {\n    return location ==='/signup' || location ==='/signin' || location ==='/notfound' ? false : true\n  }\n\n  function showFooter(location)\n  {\n    return location ==='/signup' || location ==='/signin' || location ==='/profile' || location ==='/notfound' ? false : true\n  }\n\n  const toggleClass = () => {\n      setActive(!isActive);\n  };\n\n\n \n\n  return (\n  <CurrentUserContext.Provider value={[currentUser, setCurrentUser]}>\n    <div className={isActive ? 'page page_lock': 'page'}>\n      {\n        showHeader(location.pathname) ? <Header isActive={isActive} toggleClass={toggleClass}/>:null\n      }\n      <Switch>\n        <ProtectedRoute \n          path=\"/movies\"\n          loggedIn={loggedIn}\n          component={Movies}\n          cards = {cards}\n          getMovies = {getMovies}\n          succesLoad = {succesLoad}\n          showMore = {showMore}\n          showMoreHandler ={showMoreHandler}\n          handleShorts={handleShorts}\n          onCardLike={onCardLike}\n        />\n        <ProtectedRoute \n          path=\"/saved-movies\"\n          loggedIn={loggedIn}\n          component={SavedMovies}\n          cards = {savedCards}\n          setCards = {setSavedCards}\n          filterSaved = {filterSaved}\n          handleShorts={handleShorts}\n          onCardDelete={onCardDelete}\n        />\n        <ProtectedRoute \n          path=\"/profile\"\n          loggedIn={loggedIn}\n          component={Profile}\n          onUpdateUser={handleUpdateUser}\n          onSignOut={handleSignOut}\n        />\n        <Route path=\"/signup\">\n          <Register onRegister={handleRegister} />\n        </Route>\n        <Route path=\"/signin\">\n          <Login onLogin={handleLogin} />\n        </Route>\n        <Route exact path=\"/\">\n          <Main />\n        </Route>\n        <Route>\n          <NotFound path=\"*\"/>\n        </Route>\n      </Switch>\n      {\n        showFooter(location.pathname) ? <Footer/>:null\n      }\n      <InfoTooltip isOpen={isInfoTooltipOpen} result = {infoTooltipResult} onClose={closeInfoTooltip} />\n    </div>\n  </CurrentUserContext.Provider>\n);\n\n\n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}